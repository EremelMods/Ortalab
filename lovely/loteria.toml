[manifest]
version = "1.0.0"
dump_lua = true
priority = 2

## Set ability resizing fix
[[patches]]
[patches.pattern]
target = 'engine/moveable.lua'
pattern = '''Node.init(self, args)'''
position = 'after'
match_indent = true
payload = '''self.T_ref = copy_table(self.T)'''
[[patches]]
[patches.pattern]
target = 'card.lua'
match_indent = true
position = 'before'
pattern = '''
local X, Y, W, H = self.T.x, self.T.y, self.T.w, self.T.h
'''
payload = '''
for key, _ in pairs(self.T) do
    self.T[key] = self.T_ref[key]
end
'''